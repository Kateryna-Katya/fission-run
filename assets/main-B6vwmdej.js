(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))l(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&l(c)}).observe(document,{childList:!0,subtree:!0});function a(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function l(e){if(e.ep)return;e.ep=!0;const o=a(e);fetch(e.href,o)}})();document.addEventListener("DOMContentLoaded",()=>{console.log("Fission Run: Core Script Loaded"),gsap.registerPlugin(ScrollTrigger),lucide.createIcons();const h=new Lenis({duration:1.2,easing:t=>Math.min(1,1.001-Math.pow(2,-10*t)),direction:"vertical",smooth:!0});function i(t){h.raf(t),requestAnimationFrame(i)}requestAnimationFrame(i);const a=document.querySelector(".header__burger"),l=document.querySelector(".mobile-menu"),e=document.querySelectorAll(".mobile-menu__link"),o=a.querySelector("i");let c=!1;function _(){c=!c,c?(l.classList.add("is-active"),o.setAttribute("data-lucide","x"),document.body.style.overflow="hidden"):(l.classList.remove("is-active"),o.setAttribute("data-lucide","menu"),document.body.style.overflow=""),lucide.createIcons()}if(a&&a.addEventListener("click",_),e.forEach(t=>{t.addEventListener("click",()=>{c&&_()})}),document.querySelector(".hero__title")&&typeof SplitType<"u"){const t=new SplitType(".hero__title",{types:"chars"});gsap.timeline().fromTo(t.chars,{opacity:0,y:50},{opacity:1,y:0,duration:.8,stagger:.03,ease:"back.out(1.7)"}).fromTo(".hero__desc",{opacity:0,y:20},{opacity:1,y:0,duration:.6},"-=0.4").fromTo(".hero__btns",{opacity:0,y:20},{opacity:1,y:0,duration:.6},"-=0.4").fromTo(".hero__stats",{opacity:0},{opacity:1,duration:1},"-=0.2")}else gsap.to(".hero__content",{opacity:1,duration:1});gsap.utils.toArray(".section__header, .section__title:not(.hero__title)").forEach(t=>{gsap.fromTo(t,{opacity:0,y:40},{scrollTrigger:{trigger:t,start:"top 85%"},opacity:1,y:0,duration:.8,ease:"power2.out"})});function y(t,s){const u=gsap.utils.toArray(t);u.length>0&&gsap.fromTo(u,{opacity:0,y:60},{scrollTrigger:{trigger:s,start:"top 80%"},opacity:1,y:0,duration:.6,stagger:.2,ease:"power2.out",clearProps:"transform, opacity"})}y(".platform__card",".platform__grid"),y(".feature-item",".innovation__grid"),y(".practice-card",".practices__list");const n=document.getElementById("contactForm"),f=document.querySelector(".form-success");if(n){const t=document.getElementById("captchaQuestion"),s=document.getElementById("captcha");let u=Math.floor(Math.random()*10)+1,E=Math.floor(Math.random()*10)+1;t&&(t.textContent=`${u} + ${E}`),n.addEventListener("submit",v=>{v.preventDefault();let p=!0;const L=n.querySelectorAll("input"),m=document.getElementById("policy"),g=document.getElementById("phone");if(L.forEach(r=>r.parentElement.classList.remove("error")),m&&m.parentElement.classList.remove("error"),g&&!/^\d{10,}$/.test(g.value.replace(/\D/g,""))&&(g.parentElement.classList.add("error"),p=!1),s&&parseInt(s.value)!==u+E&&(s.parentElement.classList.add("error"),p=!1),m&&!m.checked&&(m.parentElement.classList.add("error"),p=!1),L.forEach(r=>{r.hasAttribute("required")&&!r.value&&(r.parentElement.classList.add("error"),p=!1)}),p){const r=n.querySelector("button"),T=r.querySelector(".btn-text");T.textContent="Отправка...",r.style.opacity="0.7",r.disabled=!0,setTimeout(()=>{n.style.display="none",f&&(f.style.display="block",gsap.fromTo(f,{opacity:0,y:20},{opacity:1,y:0,duration:.5,ease:"power2.out"})),console.log("✅ Данные успешно отправлены")},1500)}else gsap.fromTo(n,{x:-5},{x:5,duration:.1,repeat:3,yoyo:!0})})}const d=document.getElementById("cookiePopup"),b=document.getElementById("acceptCookie");d&&!localStorage.getItem("cookiesAccepted")&&(setTimeout(()=>{d.style.display="block",gsap.fromTo(d,{y:100,opacity:0},{y:0,opacity:1,duration:.6,ease:"power2.out"})},2e3),b&&b.addEventListener("click",()=>{localStorage.setItem("cookiesAccepted","true"),gsap.to(d,{y:50,opacity:0,duration:.3,onComplete:()=>d.style.display="none"})})),ScrollTrigger.refresh()});
//# sourceMappingURL=main-B6vwmdej.js.map
