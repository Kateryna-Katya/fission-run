{"version":3,"file":"main-m3n7g2xz.js","sources":["../../src/main.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', () => {\n\n    console.log('Fission Run: Core Script Loaded');\n\n    // --------------------------------------------------------\n    // 1. ИНИЦИАЛИЗАЦИЯ БИБЛИОТЕК\n    // --------------------------------------------------------\n    \n    gsap.registerPlugin(ScrollTrigger);\n    lucide.createIcons();\n\n    // Плавный скролл (Lenis)\n    const lenis = new Lenis({\n        duration: 1.2,\n        easing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)),\n        direction: 'vertical',\n        smooth: true,\n    });\n\n    function raf(time) {\n        lenis.raf(time);\n        requestAnimationFrame(raf);\n    }\n    requestAnimationFrame(raf);\n\n\n    // --------------------------------------------------------\n    // 2. МОБИЛЬНОЕ МЕНЮ\n    // --------------------------------------------------------\n    const burger = document.querySelector('.header__burger');\n    const mobileMenu = document.querySelector('.mobile-menu');\n    const mobileLinks = document.querySelectorAll('.mobile-menu__link');\n    const menuIcon = burger.querySelector('i');\n    let isMenuOpen = false;\n\n    function toggleMenu() {\n        isMenuOpen = !isMenuOpen;\n        if (isMenuOpen) {\n            mobileMenu.classList.add('is-active');\n            menuIcon.setAttribute('data-lucide', 'x');\n            document.body.style.overflow = 'hidden';\n        } else {\n            mobileMenu.classList.remove('is-active');\n            menuIcon.setAttribute('data-lucide', 'menu');\n            document.body.style.overflow = '';\n        }\n        lucide.createIcons();\n    }\n\n    if (burger) {\n        burger.addEventListener('click', toggleMenu);\n    }\n\n    mobileLinks.forEach(link => {\n        link.addEventListener('click', () => {\n            if (isMenuOpen) toggleMenu();\n        });\n    });\n\n\n    // --------------------------------------------------------\n    // 3. АНИМАЦИИ (GSAP)\n    // --------------------------------------------------------\n\n    // Hero Анимация\n    const heroTitle = document.querySelector('.hero__title');\n    if (heroTitle && typeof SplitType !== 'undefined') {\n        const split = new SplitType('.hero__title', { types: 'chars' });\n        const tl = gsap.timeline();\n        \n        tl.fromTo(split.chars, \n            { opacity: 0, y: 50 }, \n            { opacity: 1, y: 0, duration: 0.8, stagger: 0.03, ease: 'back.out(1.7)' }\n        )\n        .fromTo('.hero__desc', { opacity: 0, y: 20 }, { opacity: 1, y: 0, duration: 0.6 }, '-=0.4')\n        .fromTo('.hero__btns', { opacity: 0, y: 20 }, { opacity: 1, y: 0, duration: 0.6 }, '-=0.4')\n        .fromTo('.hero__stats', { opacity: 0 }, { opacity: 1, duration: 1 }, '-=0.2');\n    } else {\n        gsap.to('.hero__content', { opacity: 1, duration: 1 });\n    }\n\n    // Заголовки секций\n    const sectionHeaders = gsap.utils.toArray('.section__header, .section__title:not(.hero__title)');\n    sectionHeaders.forEach(header => {\n        gsap.fromTo(header, \n            { opacity: 0, y: 40 },\n            {\n                scrollTrigger: { trigger: header, start: 'top 85%' },\n                opacity: 1, y: 0, duration: 0.8, ease: 'power2.out'\n            }\n        );\n    });\n\n    // Функция для карточек\n    function animateCards(selector, triggerSelector) {\n        const cards = gsap.utils.toArray(selector);\n        if (cards.length > 0) {\n            gsap.fromTo(cards, \n                { opacity: 0, y: 60 },\n                {\n                    scrollTrigger: { trigger: triggerSelector, start: 'top 80%' },\n                    opacity: 1, y: 0, duration: 0.6, stagger: 0.2, ease: 'power2.out', clearProps: 'transform, opacity'\n                }\n            );\n        }\n    }\n\n    animateCards('.platform__card', '.platform__grid');\n    animateCards('.feature-item', '.innovation__grid');\n    animateCards('.practice-card', '.practices__list');\n\n\n    // --------------------------------------------------------\n    // 4. ФОРМА КОНТАКТОВ (ИСПРАВЛЕННАЯ ЛОГИКА)\n    // --------------------------------------------------------\n    const contactForm = document.getElementById('contactForm');\n    const successMsg = document.querySelector('.form-success');\n    \n    if (contactForm) {\n        // Настройка капчи\n        const captchaLabel = document.getElementById('captchaQuestion');\n        const captchaInput = document.getElementById('captcha');\n        let num1 = Math.floor(Math.random() * 10) + 1;\n        let num2 = Math.floor(Math.random() * 10) + 1;\n        if(captchaLabel) captchaLabel.textContent = `${num1} + ${num2}`;\n\n        contactForm.addEventListener('submit', (e) => {\n            e.preventDefault(); // Останавливаем стандартную отправку\n            \n            let isValid = true;\n            const inputs = contactForm.querySelectorAll('input');\n            const policyCheckbox = document.getElementById('policy');\n            const phone = document.getElementById('phone');\n\n            // 1. Сброс всех ошибок\n            inputs.forEach(input => input.parentElement.classList.remove('error'));\n            if(policyCheckbox) policyCheckbox.parentElement.classList.remove('error');\n\n            // 2. Проверка телефона (только цифры)\n            if (phone && !/^\\d{10,}$/.test(phone.value.replace(/\\D/g, ''))) {\n                phone.parentElement.classList.add('error');\n                isValid = false;\n            }\n\n            // 3. Проверка капчи\n            if (captchaInput && parseInt(captchaInput.value) !== num1 + num2) {\n                captchaInput.parentElement.classList.add('error');\n                isValid = false;\n            }\n\n            // 4. Проверка чекбокса (ОБЯЗАТЕЛЬНО)\n            if (policyCheckbox && !policyCheckbox.checked) {\n                policyCheckbox.parentElement.classList.add('error'); // Подсветка ошибки\n                isValid = false;\n            }\n\n            // 5. Проверка пустых полей\n            inputs.forEach(input => {\n                if(input.hasAttribute('required') && !input.value) {\n                    input.parentElement.classList.add('error');\n                    isValid = false;\n                }\n            });\n\n            // Если все проверки пройдены\n            if (isValid) {\n                const btn = contactForm.querySelector('button');\n                const btnText = btn.querySelector('.btn-text');\n                \n                // Анимация кнопки\n                btnText.textContent = 'Отправка...';\n                btn.style.opacity = '0.7';\n                btn.disabled = true;\n                \n                // Имитация задержки сервера\n                setTimeout(() => {\n                    // 1. Скрываем форму полностью\n                    contactForm.style.display = 'none';\n                    \n                    // 2. Показываем блок успеха\n                    if(successMsg) {\n                        successMsg.style.display = 'block';\n                        \n                        // Анимируем появление\n                        gsap.fromTo(successMsg, \n                            { opacity: 0, y: 20 }, \n                            { opacity: 1, y: 0, duration: 0.5, ease: 'power2.out' }\n                        );\n                    }\n                    console.log('✅ Данные успешно отправлены');\n                }, 1500);\n            } else {\n                // Если есть ошибки - небольшая анимация \"тряски\" формы\n                gsap.fromTo(contactForm, {x: -5}, {x: 5, duration: 0.1, repeat: 3, yoyo: true});\n            }\n        });\n    }\n\n\n    // --------------------------------------------------------\n    // 5. COOKIE POPUP\n    // --------------------------------------------------------\n    const cookiePopup = document.getElementById('cookiePopup');\n    const acceptCookie = document.getElementById('acceptCookie');\n\n    if (cookiePopup && !localStorage.getItem('cookiesAccepted')) {\n        setTimeout(() => {\n            cookiePopup.style.display = 'block';\n            gsap.fromTo(cookiePopup, \n                { y: 100, opacity: 0 }, \n                { y: 0, opacity: 1, duration: 0.6, ease: 'power2.out' }\n            );\n        }, 2000);\n\n        if (acceptCookie) {\n            acceptCookie.addEventListener('click', () => {\n                localStorage.setItem('cookiesAccepted', 'true');\n                gsap.to(cookiePopup, { \n                    y: 50, opacity: 0, duration: 0.3, \n                    onComplete: () => cookiePopup.style.display = 'none' \n                });\n            });\n        }\n    }\n    \n    ScrollTrigger.refresh();\n});"],"names":["lenis","raf","time","burger","mobileMenu","mobileLinks","menuIcon","isMenuOpen","toggleMenu","link","split","header","animateCards","selector","triggerSelector","cards","contactForm","successMsg","captchaLabel","captchaInput","num1","num2","e","isValid","inputs","policyCheckbox","phone","input","btn","btnText","cookiePopup","acceptCookie"],"mappings":"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"}